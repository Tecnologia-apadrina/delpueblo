function set_exportation_mode(e){e?(jQuery(".scheduled-exportation").hide(),jQuery(".manual-exportation").show(),jQuery("#ywqe_export_on_date").prop("required",!1),jQuery("#ywqe_export_on_time").prop("required",!1)):(jQuery(".scheduled-exportation").show(),jQuery(".manual-exportation").hide(),jQuery("#ywqe_export_on_date").prop("required",!0),jQuery("#ywqe_export_on_time").prop("required",!0))}function timeToSeconds(e){return 3600*(e=e.split(/:/))[0]+60*e[1]}function process(e){e=e.split("-");return new Date(e[2],e[1]-1,e[0])}jQuery(function(r){set_exportation_mode(1),r(document).on("click","#cb-select",function(){r("input[type=checkbox]").prop("checked",r("#cb-select").prop("checked"))}),r("div.exportation-job-settings .date-picker").datepicker({dateFormat:"dd-mm-yy"}),r(document).on("click","#ywqe_schedule_exportation",function(){r(this).prop("checked")?set_exportation_mode(0):set_exportation_mode(1)}),r(document).on("click",".export-items",function(){var e=r("input[type=checkbox].export-items:checked").length;r("#start-now").prop("disabled",0==e)}),r(document).on("click","#start-now",function(e){if(r("div.date-error").remove(),r("#ywqe_export_start_date").css("background-color","inherit"),r("#ywqe_export_end_date").css("background-color","inherit"),r("#ywqe_export_on_date").css("background-color","inherit"),r("#ywqe_export_on_time").css("background-color","inherit"),r("#ywqe_schedule_exportation").prop("checked")){if(r("#ywqe_export_on_date").val()&&r("#ywqe_export_on_time").val()){var t=process(r("#ywqe_export_on_date").val()),o=(o=r("#ywqe_export_on_time").val()).split(/:/);t.setHours(o[0],o[1],0,0);o=new Date;if(t.getTime()<=o.getTime())return r("#ywqe_export_on_date").parent().prepend('<div class="date-error">'+messages.schedulation_time+"</span>"),r("#ywqe_export_on_date").css("background-color","#f85454"),r("#ywqe_export_on_time").css("background-color","#f85454"),!1}}else if(r("#ywqe_export_start_date").val()&&r("#ywqe_export_end_date").val()&&r.datepicker.parseDate("dd-mm-yy",r("#ywqe_export_start_date").val())>r.datepicker.parseDate("dd-mm-yy",r("#ywqe_export_end_date").val()))return r("#ywqe_export_start_date").parent().prepend('<div class="date-error">'+messages.valid_interval+"</div>"),r("#ywqe_export_start_date").css("background-color","#f85454"),r("#ywqe_export_end_date").css("background-color","#f85454"),!1})});