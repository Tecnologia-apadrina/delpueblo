(()=>{"use strict";const e=window.React,t=window.wp.blocks,s=window.wp.compose,l=window.wp.element,r=window.wp.blockEditor,n=window.gbp.blockStyles,c=window.gbp.stylesBuilder,u=window.wp.data,o=(0,u.createReduxStore)("gbp-block-styles-current-style",{reducer:c.currentStyleReducer,actions:c.currentStyleActions,selectors:c.currentStyleSelectors}),i=(0,u.createReduxStore)("gbp-block-styles-at-rule",{reducer:c.atRuleReducer,actions:c.atRuleActions,selectors:c.atRuleSelectors}),a=(0,u.createReduxStore)("gbp-block-styles-nested-rule",{reducer:c.nestedRuleReducer,actions:c.nestedRuleActions,selectors:c.nestedRuleSelectors});function d(){const e=(0,u.useSelect)((e=>e(i).getAtRule())),{setAtRule:t}=(0,u.useDispatch)(i),s=(0,u.useSelect)((e=>e(a).getNestedRule())),{setNestedRule:l}=(0,u.useDispatch)(a),r=(0,n.useCurrentAtRule)(c.defaultAtRules),{setCurrentStyle:d}=(0,u.useDispatch)(o),b=(0,u.useSelect)((e=>e(o).currentStyle())),{deviceType:y,setDeviceType:f}=(0,n.useDeviceType)();return{atRule:e,nestedRule:s,setAtRule:t,currentAtRule:r,setNestedRule:l,setDeviceType:f,deviceType:y,setCurrentStyle:d,currentStyle:b,getPreviewDevice:n.getPreviewDevice}}function b({attributes:t,setAttributes:s,shortcuts:r,onStyleChange:n}){const{atRule:u,setAtRule:o,nestedRule:i,setNestedRule:a,setDeviceType:b,getPreviewDevice:y,deviceType:f,currentStyle:p}=d(),{styles:g,globalClasses:m=[]}=t,S=(0,c.getStylesObject)(g,u,i),C=(0,l.useMemo)((()=>({...m})),[m]);return(0,e.createElement)(c.StylesBuilder,{currentSelector:p?.selector,styles:S,allStyles:g,onDeleteStyle:(e,t)=>{const l=(0,c.deleteStylesObjectKey)(g,e,t);s({styles:l})},nestedRule:i,atRule:u,onStyleChange:(e,t=null)=>n(e,t,u,i),onNestedRuleChange:e=>a(e),onAtRuleChange:e=>{o(e),b(y(e,f,c.defaultAtRules))},onUpdateKey:(e,t,l)=>{const r=(0,c.updateStylesObjectKey)(g,e,t,l);s({styles:r})},selectorShortcuts:r.selectorShortcuts,visibleSelectors:r.visibleShortcuts,scope:"local",computedStyleDeps:C})}const y=window.wp.components,f=window.wp.hooks,p=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"];function g(e,t,s=!1){const{styles:l={},uniqueId:r="",globalClasses:n=[]}=t,c=[];return s&&c.push(e),n.length>0&&c.push(...n),Object.keys(l).length>0&&c.push(`${e}-${r}`),c}const m=(0,s.compose)((function(t){return s=>{var n,c;const{attributes:o,setAttributes:i,context:a}=s,{htmlAttributes:d={},uniqueId:b,className:g,align:m}=o,S=(0,u.useSelect)((e=>e("core/editor").isSavingPost())),{style:C="",href:h,...v}=d,R=Object.keys(v).reduce(((e,t)=>(e[t]=(e=>{if(null==e)return"";let t="";if("object"==typeof e)try{t=JSON.stringify(e)}catch(e){return""}else t=String(e);return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")})(v[t]),e)),{}),[w,A]=(0,l.useState)(C);var L,E,k,O;(0,l.useEffect)((()=>{!async function(){const e=await(0,f.applyFilters)("generateblocks.editor.htmlAttributes.style",C,{...s});A(e)}()}),[C,a,S]),L=()=>{const e=["alignwide","alignfull"],t=(g?.split(" ")||[]).filter((t=>!e.includes(t)));m&&t.push("align"+m),i({className:t.join(" ")})},E=[m],O=(k=(0,e.useRef)(!0)).current?(k.current=!1,!0):k.current,(0,e.useEffect)((function(){if(!O)return L()}),E);const N="string"==typeof w?w.split(";").reduce(((e,t)=>{const s=t.indexOf(":");if(-1===s)return e;let l=t.slice(0,s).trim();const r=t.slice(s+1).trim();return l&&r&&(l.startsWith("--")||(l=l.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))),e[l]=r),e}),{}):"",M={...R,style:N,"data-gb-id":b,"data-context-post-id":null!==(n=null!==(c=a?.postId)&&void 0!==c?c:a?.["generateblocks/loopIndex"])&&void 0!==n?n:0,"data-align":m||void 0},j=(0,l.useMemo)((()=>Array.isArray(d)?{}:d),[JSON.stringify(d)]);return(0,l.useEffect)((()=>{const e={...d};Object.keys(e).forEach((t=>{const s=t.startsWith("data-"),l=e[t];p.includes(t)||""!==l||s||delete e[t],"string"!=typeof l&&"boolean"!=typeof l&&delete e[t],"class"===t&&delete e[t]})),function(e,t){if(e===t)return!0;if(!e||!t)return!1;const s=Object.keys(e),l=Object.keys(t);if(s.length!==l.length)return!1;for(const l of s)if(e[l]!==t[l])return!1;return!0}(e,d)||i({htmlAttributes:e})}),[JSON.stringify(d)]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...s,editorHtmlAttributes:M,htmlAttributes:j}),(0,e.createElement)(r.InspectorAdvancedControls,null,(0,e.createElement)(y.TextControl,{label:"HTML ID",value:d.id,onChange:e=>{i({htmlAttributes:{...d,id:e}})}})))}}),(function(t){return s=>{const{attributes:r,name:u,setAttributes:o,isSelected:i,clientId:a}=s,{uniqueId:b,styles:y}=r,{atRule:f,deviceType:p,setAtRule:g,currentStyle:m,setCurrentStyle:S,setNestedRule:C}=d(),h=(0,n.useSetStyles)(s,{cleanStylesObject:c.cleanStylesObject}),v=(0,l.useMemo)((()=>b?(0,n.getSelector)(u,b):""),[u,b]),R=Array.isArray(y)?{}:y;return(0,n.useAtRuleEffect)({deviceType:p,atRule:f,setAtRule:g,defaultAtRules:c.defaultAtRules,isSelected:i}),(0,n.useGenerateCSSEffect)({selector:v,styles:R,setAttributes:o,getCss:c.getCss,getSelector:n.getSelector}),(0,n.useStyleSelectorEffect)({isSelected:i,currentStyle:m,selector:v,setCurrentStyle:S,setNestedRule:C}),(0,n.useDecodeStyleKeys)({styles:y,setAttributes:o}),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Style,{selector:v,getCss:c.getCss,styles:R,clientId:a,name:u}),(0,e.createElement)(t,{...s,selector:v,onStyleChange:function(e,t="",s="",l=""){const r="object"==typeof e?e:{[e]:t},c=(0,n.buildChangedStylesObject)(r,s,l);h(c)},getStyleValue:function(e,t="",s=""){var l,r,n,c;return s?t?null!==(n=y?.[s]?.[t]?.[e])&&void 0!==n?n:"":null!==(r=y?.[s]?.[e])&&void 0!==r?r:"":t?null!==(c=y?.[t]?.[e])&&void 0!==c?c:"":null!==(l=y?.[e])&&void 0!==l?l:""},styles:R}))}}),n.withUniqueId)((function(t){const{attributes:s,setAttributes:c,onStyleChange:u,editorHtmlAttributes:o={},htmlAttributes:i,styles:a}=t,{tagName:d,uniqueId:y}=s,[f,p]=(0,l.useState)(0),[m,S]=(0,l.useState)(!1),C=(0,l.useRef)();(0,l.useEffect)((()=>{const e=C.current?.closest(".gb-tabs");if(!e)return;const t=()=>{p(e.getAttribute("data-opened-tab"))},s=new MutationObserver(t);return s.observe(e,{attributes:!0,attributeFilter:["data-opened-tab"]}),t(),()=>{s.disconnect()}}),[C]),(0,l.useEffect)((()=>{const e=C.current;if(!e)return;const t=()=>{e.classList.contains("is-selected")||e.classList.contains("has-child-selected")?S(!0):S(!1)},s=new MutationObserver(t);return s.observe(e,{attributes:!0,attributeFilter:["class"]}),t(),()=>{s.disconnect()}}),[C]);const h=(0,l.useMemo)((()=>{if(!C?.current)return;const e=C.current.closest(".gb-tabs__items");return e?(Array.from(e.children).filter((e=>e.classList.contains("gb-tabs__item"))).indexOf(C.current)+1).toString():-1}),[C?.current]);(0,l.useEffect)((()=>{if(!m||!f)return;const e=C.current?.closest(".gb-tabs");e&&e.getAttribute("data-opened-tab")!==h&&e.setAttribute("data-opened-tab",h)}),[m]);const v=g("gb-tabs__item",{...s,styles:a},!0),R=(0,l.useMemo)((()=>{let e=v;return f===h?e.push("gb-tabs__item-open"):e=e.filter((e=>"gb-tabs__item-open"!==e)),e}),[JSON.stringify(v),f,h]),w=(0,r.useBlockProps)({className:R.filter(Boolean).join(" ").trim(),...o,ref:C}),A=(0,r.useInnerBlocksProps)(w),L=d||"div";return(0,l.useEffect)((()=>{d||c({tagName:"div"})}),[d]),(0,l.useEffect)((()=>{var e;if(!y)return;const t=null!==(e=i?.id)&&void 0!==e?e:"",s=t&&t.startsWith("gb-tab-item-")&&t!==`gb-tab-item-${y}`;t&&!s||c({htmlAttributes:{...i,id:`gb-tab-item-${y}`}})}),[y,i?.id]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(n.BlockStyles,{settingsTab:null,stylesTab:(0,e.createElement)(b,{attributes:s,setAttributes:c,shortcuts:{},onStyleChange:u})})),(0,e.createElement)(L,{...A}))})),S=JSON.parse('{"u2":"generateblocks-pro/tab-item"}');(0,t.registerBlockType)(S.u2,{edit:m,save:function({attributes:t}){const{tagName:s,htmlAttributes:l={}}=t,n=g("gb-tabs__item",t,!0),c=r.useBlockProps.save({className:n.join(" ").trim(),...l});return(0,e.createElement)(s,{...r.useInnerBlocksProps.save(c)})},icon:function(){return(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:"gblocks-block-icon","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M18.23,13.26L5.77,13.26C5.43,13.26 5.15,13.54 5.15,13.88C5.15,14.22 5.43,14.5 5.77,14.5L18.23,14.5C18.57,14.5 18.85,14.22 18.85,13.88C18.85,13.54 18.58,13.26 18.23,13.26ZM18.23,16.29L5.77,16.29C5.43,16.29 5.15,16.57 5.15,16.91C5.15,17.25 5.43,17.53 5.77,17.53L18.23,17.53C18.57,17.53 18.85,17.25 18.85,16.91L18.85,16.9C18.85,16.565 18.575,16.29 18.24,16.29L18.23,16.29ZM5.14,10.85C5.14,11.19 5.42,11.47 5.76,11.47L18.22,11.47C18.56,11.47 18.84,11.19 18.84,10.85C18.84,10.51 18.56,10.23 18.22,10.23L5.77,10.23L5.753,10.23C5.417,10.23 5.14,10.506 5.14,10.843L5.14,10.85Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M18.23,13.26L5.77,13.26C5.43,13.26 5.15,13.54 5.15,13.88C5.15,14.22 5.43,14.5 5.77,14.5L18.23,14.5C18.57,14.5 18.85,14.22 18.85,13.88C18.85,13.54 18.58,13.26 18.23,13.26ZM18.23,16.29L5.77,16.29C5.43,16.29 5.15,16.57 5.15,16.91C5.15,17.25 5.43,17.53 5.77,17.53L18.23,17.53C18.57,17.53 18.85,17.25 18.85,16.91C18.85,16.907 18.85,16.903 18.85,16.9C18.85,16.565 18.575,16.29 18.24,16.29C18.237,16.29 18.233,16.29 18.23,16.29ZM5.14,10.85C5.14,11.19 5.42,11.47 5.76,11.47L18.22,11.47C18.56,11.47 18.84,11.19 18.84,10.85C18.84,10.51 18.56,10.23 18.22,10.23L5.77,10.23C5.764,10.23 5.759,10.23 5.753,10.23C5.417,10.23 5.14,10.506 5.14,10.843C5.14,10.845 5.14,10.848 5.14,10.85Z",style:{fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M14.5,5.76L21.99,5.76L21.99,21.38C21.99,21.72 21.71,22 21.37,22L2.62,22C2.28,22 2,21.72 2,21.37L2,2.62C2,2.28 2.28,2 2.62,2L9.5,2L9.5,5.76L14.5,5.76ZM8.87,7.01C8.53,7.01 8.25,6.73 8.25,6.39L8.25,3.25L3.25,3.25L3.25,20.75L20.75,20.75L20.75,7.01L8.87,7.01Z",style:{fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M9.5,2L21.382,2C21.758,2.044 21.99,2.3 21.99,2.608L21.99,5.76L20.75,5.76L20.75,3.25L15.75,3.25L15.75,5.76L14.5,5.76L14.5,3.25L9.5,3.25L9.5,2Z",style:{fillOpacity:.3}}))}})})();