(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.compose,s=window.wp.components,n=window.wp.i18n,r=window.wp.element,c=window.wp.blockEditor,o=window.gbp.blockStyles,u=window.gbp.stylesBuilder,i=window.wp.data,a=(0,i.createReduxStore)("gbp-block-styles-current-style",{reducer:u.currentStyleReducer,actions:u.currentStyleActions,selectors:u.currentStyleSelectors}),d=(0,i.createReduxStore)("gbp-block-styles-at-rule",{reducer:u.atRuleReducer,actions:u.atRuleActions,selectors:u.atRuleSelectors}),y=(0,i.createReduxStore)("gbp-block-styles-nested-rule",{reducer:u.nestedRuleReducer,actions:u.nestedRuleActions,selectors:u.nestedRuleSelectors});function g(){const e=(0,i.useSelect)((e=>e(d).getAtRule())),{setAtRule:t}=(0,i.useDispatch)(d),l=(0,i.useSelect)((e=>e(y).getNestedRule())),{setNestedRule:s}=(0,i.useDispatch)(y),n=(0,o.useCurrentAtRule)(u.defaultAtRules),{setCurrentStyle:r}=(0,i.useDispatch)(a),c=(0,i.useSelect)((e=>e(a).currentStyle())),{deviceType:g,setDeviceType:p}=(0,o.useDeviceType)();return{atRule:e,nestedRule:l,setAtRule:t,currentAtRule:n,setNestedRule:s,setDeviceType:p,deviceType:g,setCurrentStyle:r,currentStyle:c,getPreviewDevice:o.getPreviewDevice}}function p({attributes:t,setAttributes:l,shortcuts:s,onStyleChange:n}){const{atRule:c,setAtRule:o,nestedRule:i,setNestedRule:a,setDeviceType:d,getPreviewDevice:y,deviceType:p,currentStyle:b}=g(),{styles:f,globalClasses:S=[]}=t,m=(0,u.getStylesObject)(f,c,i),h=(0,r.useMemo)((()=>({...S})),[S]);return(0,e.createElement)(u.StylesBuilder,{currentSelector:b?.selector,styles:m,allStyles:f,onDeleteStyle:(e,t)=>{const s=(0,u.deleteStylesObjectKey)(f,e,t);l({styles:s})},nestedRule:i,atRule:c,onStyleChange:(e,t=null)=>n(e,t,c,i),onNestedRuleChange:e=>a(e),onAtRuleChange:e=>{o(e),d(y(e,p,u.defaultAtRules))},onUpdateKey:(e,t,s)=>{const n=(0,u.updateStylesObjectKey)(f,e,t,s);l({styles:n})},selectorShortcuts:s.selectorShortcuts,visibleSelectors:s.visibleShortcuts,scope:"local",computedStyleDeps:h})}const b=window.wp.hooks,f=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","selected"];function S(e,t,l=!1){const{styles:s={},uniqueId:n="",globalClasses:r=[]}=t,c=[];return l&&c.push(e),r.length>0&&c.push(...r),Object.keys(s).length>0&&c.push(`${e}-${n}`),c}const m=(0,l.compose)((function(t){return l=>{var n,o;const{attributes:u,setAttributes:a,context:d}=l,{htmlAttributes:y={},uniqueId:g,className:p,align:S}=u,m=(0,i.useSelect)((e=>e("core/editor").isSavingPost())),{style:h="",href:C,...R}=y,v=Object.keys(R).reduce(((e,t)=>(e[t]=(e=>{if(null==e)return"";let t="";if("object"==typeof e)try{t=JSON.stringify(e)}catch(e){return""}else t=String(e);return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")})(R[t]),e)),{}),[w,A]=(0,r.useState)(h);var L,E,k,N;(0,r.useEffect)((()=>{!async function(){const e=await(0,b.applyFilters)("generateblocks.editor.htmlAttributes.style",h,{...l});A(e)}()}),[h,d,m]),L=()=>{const e=["alignwide","alignfull"],t=(p?.split(" ")||[]).filter((t=>!e.includes(t)));S&&t.push("align"+S),a({className:t.join(" ")})},E=[S],N=(k=(0,e.useRef)(!0)).current?(k.current=!1,!0):k.current,(0,e.useEffect)((function(){if(!N)return L()}),E);const O="string"==typeof w?w.split(";").reduce(((e,t)=>{const l=t.indexOf(":");if(-1===l)return e;let s=t.slice(0,l).trim();const n=t.slice(l+1).trim();return s&&n&&(s.startsWith("--")||(s=s.replace(/-([a-z])/g,(e=>e[1].toUpperCase()))),e[s]=n),e}),{}):"",j={...v,style:O,"data-gb-id":g,"data-context-post-id":null!==(n=null!==(o=d?.postId)&&void 0!==o?o:d?.["generateblocks/loopIndex"])&&void 0!==n?n:0,"data-align":S||void 0},D=(0,r.useMemo)((()=>Array.isArray(y)?{}:y),[JSON.stringify(y)]);return(0,r.useEffect)((()=>{const e={...y};Object.keys(e).forEach((t=>{const l=t.startsWith("data-"),s=e[t];f.includes(t)||""!==s||l||delete e[t],"string"!=typeof s&&"boolean"!=typeof s&&delete e[t],"class"===t&&delete e[t]})),function(e,t){if(e===t)return!0;if(!e||!t)return!1;const l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(const s of l)if(e[s]!==t[s])return!1;return!0}(e,y)||a({htmlAttributes:e})}),[JSON.stringify(y)]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...l,editorHtmlAttributes:j,htmlAttributes:D}),(0,e.createElement)(c.InspectorAdvancedControls,null,(0,e.createElement)(s.TextControl,{label:"HTML ID",value:y.id,onChange:e=>{a({htmlAttributes:{...y,id:e}})}})))}}),(function(t){return l=>{const{attributes:s,name:n,setAttributes:c,isSelected:i,clientId:a}=l,{uniqueId:d,styles:y}=s,{atRule:p,deviceType:b,setAtRule:f,currentStyle:S,setCurrentStyle:m,setNestedRule:h}=g(),C=(0,o.useSetStyles)(l,{cleanStylesObject:u.cleanStylesObject}),R=(0,r.useMemo)((()=>d?(0,o.getSelector)(n,d):""),[n,d]),v=Array.isArray(y)?{}:y;return(0,o.useAtRuleEffect)({deviceType:b,atRule:p,setAtRule:f,defaultAtRules:u.defaultAtRules,isSelected:i}),(0,o.useGenerateCSSEffect)({selector:R,styles:v,setAttributes:c,getCss:u.getCss,getSelector:o.getSelector}),(0,o.useStyleSelectorEffect)({isSelected:i,currentStyle:S,selector:R,setCurrentStyle:m,setNestedRule:h}),(0,o.useDecodeStyleKeys)({styles:y,setAttributes:c}),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o.Style,{selector:R,getCss:u.getCss,styles:v,clientId:a,name:n}),(0,e.createElement)(t,{...l,selector:R,onStyleChange:function(e,t="",l="",s=""){const n="object"==typeof e?e:{[e]:t},r=(0,o.buildChangedStylesObject)(n,l,s);C(r)},getStyleValue:function(e,t="",l=""){var s,n,r,c;return l?t?null!==(r=y?.[l]?.[t]?.[e])&&void 0!==r?r:"":null!==(n=y?.[l]?.[e])&&void 0!==n?n:"":t?null!==(c=y?.[t]?.[e])&&void 0!==c?c:"":null!==(s=y?.[e])&&void 0!==s?s:""},styles:v}))}}),o.withUniqueId)((function(t){const{attributes:l,setAttributes:u,context:i,onStyleChange:a,editorHtmlAttributes:d={},htmlAttributes:y,styles:g}=t,{tagName:b,uniqueId:f}=l,m=S("gb-accordion__toggle",{...l,styles:g},!0);i["generateblocks/accordion/openByDefault"]&&m.push("gb-block-is-current");const h=(0,r.useRef)(),C=(0,c.useBlockProps)({className:m.join(" ").trim(),...d,ref:h}),R=(0,c.useInnerBlocksProps)(C),v=b||"div";return(0,r.useEffect)((()=>{b||u({tagName:"div"})}),[]),(0,r.useEffect)((()=>{var e;if(!f)return;const t=null!==(e=y?.id)&&void 0!==e?e:"",l=t&&t.startsWith("gb-accordion-toggle-")&&t!==`gb-accordion-toggle-${f}`;t&&!l||u({htmlAttributes:{...y,id:`gb-accordion-toggle-${f}`}})}),[f,y?.id]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c.InspectorControls,null,(0,e.createElement)(o.BlockStyles,{settingsTab:(0,e.createElement)(s.PanelBody,{title:(0,n.__)("Settings","generateblocks-pro"),initialOpen:!0},(0,e.createElement)(s.SelectControl,{label:(0,n.__)("Tag name","generateblocks-pro"),value:b,options:[{label:"div",value:"div"},{label:"button",value:"button"}],onChange:e=>u({tagName:e})})),stylesTab:(0,e.createElement)(p,{attributes:l,setAttributes:u,shortcuts:{},onStyleChange:a})})),(0,e.createElement)(v,{...R}))})),h=JSON.parse('{"u2":"generateblocks-pro/accordion-toggle"}');(0,t.registerBlockType)(h.u2,{edit:m,save:function({attributes:t}){const{tagName:l,htmlAttributes:s={}}=t,n=S("gb-accordion__toggle",t,!0),r=c.useBlockProps.save({className:n.join(" ").trim(),...s});return(0,e.createElement)(l,{...c.useInnerBlocksProps.save(r)})},icon:function(){return(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:"gblocks-block-icon","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M21.376,21.918L2.626,21.918C2.282,21.918 2,21.636 2,21.292C2,20.949 2.282,20.667 2.626,20.667L21.377,20.667C21.719,20.667 22.002,20.95 22.002,21.293C22.002,21.636 21.719,21.918 21.376,21.918C21.376,21.918 21.376,21.918 21.376,21.918ZM21.376,18.765L2.626,18.765C2.283,18.765 2.001,18.483 2.001,18.14C2.001,17.797 2.283,17.515 2.626,17.515L21.377,17.515C21.719,17.515 22.001,17.797 22.001,18.14C22.001,18.483 21.719,18.765 21.376,18.765C21.376,18.765 21.376,18.765 21.376,18.765ZM21.376,15.613L2.626,15.613C2.283,15.613 2.001,15.331 2.001,14.988C2.001,14.645 2.283,14.363 2.626,14.363L21.377,14.363C21.719,14.363 22.001,14.645 22.001,14.988C22.001,15.331 21.719,15.613 21.376,15.613C21.376,15.613 21.376,15.613 21.376,15.613Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M21.376,12.137L2.626,12.137C2.283,12.137 2,11.855 2,11.512C2,11.512 2,11.511 2.001,11.511L2.001,5.695C2.001,5.35 2.281,5.07 2.626,5.07L21.377,5.07C21.721,5.07 22.001,5.35 22.001,5.695L22.001,11.511C22.001,11.857 21.721,12.137 21.376,12.137ZM3.25,10.886L20.751,10.886L20.751,6.32L3.25,6.32L3.25,10.886Z",style:{fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M17.831,9.944C17.693,9.944 17.561,9.889 17.463,9.791L15.901,8.229L16.638,7.492L17.831,8.686L19.026,7.492L19.762,8.229L18.2,9.792C18.102,9.889 17.969,9.944 17.831,9.944Z",style:{fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M19.352,2L19.764,2.412L18.201,3.975C18.103,4.072 17.97,4.127 17.833,4.127C17.694,4.127 17.562,4.072 17.465,3.974L15.902,2.412L16.314,2L16.964,2L17.833,2.869L18.702,2L19.352,2Z",style:{fillOpacity:.3,fillRule:"nonzero"}}),(0,e.createElement)("path",{d:"M22.002,2L22.002,5.694C22.002,6.04 21.722,6.32 21.377,6.32L2.627,6.32C2.284,6.32 2.001,6.038 2.001,5.695C2.001,5.695 2.001,5.694 2.002,5.694L2.002,2L3.251,2L3.251,5.069L20.752,5.069L20.752,2L22.002,2Z",style:{fillOpacity:.3,fillRule:"nonzero"}}))}})})();